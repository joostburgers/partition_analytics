---
title: "partition_db_stats"
format: html
editor: visual
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE, message = FALSE, warning=FALSE, error=FALSE)

```

### Creating the data table


```{r}
library(tidyverse)
library(jsonlite)
library(httr)

library(cooccur)
library(htmlTable)
```

### Import full database

```{r}
partition_db_geo <- read_csv("partition_db_geo.csv")
```

### Descriptive statistics

```{r}

gender_population <- partition_db_geo %>% 
                    drop_na(gender_author) %>% 
                     group_by(gender_author) %>% 
                     count(gender_character) %>% 
                    mutate(percent = n/sum(n))

```

```{r}
gender_authors <- partition_db_geo %>% 
                  drop_na(gender_author) %>% 
                  distinct(text_id,.keep_all = TRUE) %>% 
                  group_by(gender_author) %>% 
                  count(gender_author, name = "texts")
```


```{r}
gender_population <- gender_population %>% 
                      left_join(gender_authors)
```


```{r}

```

